<div class="containers">
  <div class="container pato45">
    <div class="row">
      <div class="col-md-3">
        <div class="avatarFrameOnline">
          <img src="assets/img/generic_avatar.png" class="frame img-fluid" alt="avatar_friend">
        </div>
      </div>

      <div class="col-md-9">
        <div class="container conversationFrame">
          <div *ngIf="friend" id="nickFriend" class="marbo15">
            <b>{{friend.nick || 'No nick'}}</b> {{'{'+friend.state+'}'}}
            <br>
            <small>{{friend.subnick || 'No subnick'}}</small>
          </div>

          <div *ngIf="conversation && conversation.length === 0" class="conversation">
            <div id="message" class="otherMessage">
              Aún no has iniciado una conversación con {{friend.nick}}
            </div>
          </div>

          <div class="conversation" *ngFor="let message of conversation">

            <div [ngClass]="{own: message.sender == this.user.uid}" *ngIf="friend && conversation">
              <div id="nickConversation">
                <img class=" img-fluid bubble" src="assets/img/generic_avatar.png" alt="Avatar generico">
                {{getNickName(message.sender)}} dice:
              </div>
              <div id="message" [ngClass]="{ownMessage: message.sender == this.user.uid}" [ngClass]="{otherMessage: message.sender != this.user.uid}">
                • {{message.text}}
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3">
        <div class="avatarFrameOnline">
          <img src="assets/img/generic_avatar.png" class="frame img-fluid" alt="avatar_friend">
        </div>
      </div>

      <div class="col-md-9">
        <div class="row">
          <textarea name="name" rows="5" cols="100" [(ngModel)]="textMessage" (Keyup.enter)="sendMessage()"></textarea>
        </div>
        <div class="row marto15">
          <img src="assets/img/icons/regular_smile.gif" alt="zumbido" class="icon_bottom_bar">
          <img src="assets/img/icons/wink_smile.gif" alt="zumbido" class="icon_bottom_bar marle15">
          <img src="assets/img/zumbido.png" alt="zumbido" class="icon_bottom_bar_zumbido marle15">

          <label class="custom-file-upload marle15">
            <input type="file" name="" value="">Seleccionar archivo
          </label>

          <a class="btn btn-primary marle15 heightbutton40 justify-content-right" (click)="sendMessage()">Enviar</a>
        </div>
      </div>
    </div>
  </div>
</div>
